(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),Chat=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(){chrome.storage.local.get("appId",function(e){vamtiger._socket.emit("chat",e.appId)})}}]),e}(),chat=new Chat;exports["default"]=chat.main;

},{}],2:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),Focus=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(){chrome.app.window.getAll()[0].focus()}}]),e}(),focus=new Focus;exports["default"]=focus.main;

},{}],3:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),GetWindowPort=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(e){var t=vamtiger._windowPort?vamtiger._windowPort:e;return t}}]),e}(),getWindowPort=new GetWindowPort;exports["default"]=getWindowPort.main;

},{}],4:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_GetWindowPort=require("./GetWindowPort"),_GetWindowPort2=_interopRequireDefault(_GetWindowPort),Get=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"appWindow",get:function(){var e=chrome.app.window.getAll().length?chrome.app.window.getAll()[0]:null;return e}},{key:"windowPort",get:function(){return _GetWindowPort2["default"]}}]),e}();exports["default"]=Get;

},{"./GetWindowPort":3}],5:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),HandleInstall=function(){function e(){_classCallCheck(this,e),e.bindInstanceMethods(this)}return _createClass(e,[{key:"main",value:function(e){var n={install:this.firstInstall};n[e.reason]?n[e.reason]():vamtiger.ignore()}},{key:"firstInstall",value:function(){vamtiger.launch()}}],[{key:"bindInstanceMethods",value:function(n){var t=this,a=Object.getOwnPropertyNames(this.prototype);e.regex=e._regex,a.forEach(function(a){e.regex.ignoreBind.test(a)||(t.prototype[a]=n[a].bind(n))})}},{key:"_regex",get:function(){var e={ignoreBind:/^(?:bindInstanceMethods|_\w+)$/};return e}}]),e}(),handleInstall=new HandleInstall;exports["default"]=handleInstall.main;

},{}],6:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),HandleLaunch=function(){function e(){_classCallCheck(this,e),e.bindInstanceMethods(this)}return _createClass(e,[{key:"ignore",value:function(){}},{key:"main",value:function(e){vamtiger.question("Is the app closed?").then(vamtiger.launch)["catch"](vamtiger.focus)}}],[{key:"bindInstanceMethods",value:function(n){var t=this,a=Object.getOwnPropertyNames(this.prototype);e.regex=e._regex,a.forEach(function(a){e.regex.ignoreBind.test(a)||(t.prototype[a]=n[a].bind(n))})}},{key:"_regex",get:function(){var e={ignoreBind:/^(?:bindInstanceMethods|_\w+)$/};return e}}]),e}(),handleLaunch=new HandleLaunch;exports["default"]=handleLaunch.main;

},{}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),PortConnection=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(e){vamtiger.set.windowPort(e)}}]),e}(),portConnection=new PortConnection;exports["default"]=portConnection.main;

},{}],8:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),HandlePortMessage=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(e){var n=e.action.split(vamtiger.regex.dot).reduce(function(e,n){return e[n]},vamtiger);n(e)}}]),e}(),handlePortMessage=new HandlePortMessage;exports["default"]=handlePortMessage.main;

},{}],9:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),HandleSocketConnection=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(e){vamtiger.question("Is this app registered?").then(vamtiger.chat)["catch"](vamtiger.register)}}]),e}(),handleSocketConnection=new HandleSocketConnection;exports["default"]=handleSocketConnection.main;

},{}],10:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),HandleSocketDisconnection=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(e){console.log(">> Disconnected!"),console.log(e)}}]),e}(),handleSocketDisconnection=new HandleSocketDisconnection;exports["default"]=handleSocketDisconnection.main;

},{}],11:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),HandleSocketRegistration=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(e){chrome.storage.local.set({appId:e},vamtiger.chat)}}]),e}(),handleSocketRegistration=new HandleSocketRegistration;exports["default"]=handleSocketRegistration.main;

},{}],12:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),HandleStranger=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(e){vamtiger._windowPort.postMessage({action:"update.stranger",data:e})}}]),e}(),handleStranger=new HandleStranger;exports["default"]=handleStranger.main;

},{}],13:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),_HandleInstall=require("./HandleInstall"),_HandleInstall2=_interopRequireDefault(_HandleInstall),_HandleLaunch=require("./HandleLaunch"),_HandleLaunch2=_interopRequireDefault(_HandleLaunch),_HandlePortConnection=require("./HandlePortConnection"),_HandlePortConnection2=_interopRequireDefault(_HandlePortConnection),_HandlePortMessage=require("./HandlePortMessage"),_HandlePortMessage2=_interopRequireDefault(_HandlePortMessage),_HandleSocketConnection=require("./HandleSocketConnection"),_HandleSocketConnection2=_interopRequireDefault(_HandleSocketConnection),_HandleSocketDisconnection=require("./HandleSocketDisconnection"),_HandleSocketDisconnection2=_interopRequireDefault(_HandleSocketDisconnection),_HandleSocketRegistration=require("./HandleSocketRegistration"),_HandleSocketRegistration2=_interopRequireDefault(_HandleSocketRegistration),_HandleStranger=require("./HandleStranger"),_HandleStranger2=_interopRequireDefault(_HandleStranger),Handle=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"install",get:function(){return _HandleInstall2["default"]}},{key:"launch",get:function(){return _HandleLaunch2["default"]}},{key:"portConnection",get:function(){return _HandlePortConnection2["default"]}},{key:"portMessage",get:function(){return _HandlePortMessage2["default"]}},{key:"socketConnection",get:function(){return _HandleSocketConnection2["default"]}},{key:"socketDisconnection",get:function(){return _HandleSocketDisconnection2["default"]}},{key:"socketRegistration",get:function(){return _HandleSocketRegistration2["default"]}},{key:"stranger",get:function(){return _HandleStranger2["default"]}}]),e}();exports["default"]=Handle;

},{"./HandleInstall":5,"./HandleLaunch":6,"./HandlePortConnection":7,"./HandlePortMessage":8,"./HandleSocketConnection":9,"./HandleSocketDisconnection":10,"./HandleSocketRegistration":11,"./HandleStranger":12}],14:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),Launch=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(){vamtiger.get.appWindow?vamtiger.focus():chrome.app.window.create("Application/Window/index.html",vamtiger.maximize)}}]),e}(),launch=new Launch;exports["default"]=launch.main;

},{}],15:[function(require,module,exports){
"use strict";function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,a){for(var n=0;n<a.length;n++){var i=a[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(a,n,i){return n&&e(a.prototype,n),i&&e(a,i),a}}(),Maximize=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(){vamtiger.get.appWindow?vamtiger.get.appWindow.maximize():vamtiger.ignore()}}]),e}(),maximize=new Maximize;exports["default"]=maximize.main;

},{}],16:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),Answer=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"main",value:function(e,n,r){var t=n;vamtiger.get.appWindow&&(t=r),t()}}]),e}();exports["default"]=Answer.main;

},{}],17:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),Answer=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"main",value:function(e,n,a){var t=a;vamtiger.get.appWindow&&(t=a),chrome.storage.local.get("appId",function(e){e.appId&&(t=n),t(e.appId)})}}]),e}();exports["default"]=Answer.main;

},{}],18:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_IsTheAppClosed=require("./IsTheAppClosed"),_IsTheAppClosed2=_interopRequireDefault(_IsTheAppClosed),_IsThisAppRegistered=require("./IsThisAppRegistered"),_IsThisAppRegistered2=_interopRequireDefault(_IsThisAppRegistered),Question=function(){function e(){_classCallCheck(this,e),e.bindInstanceMethods(this)}return _createClass(e,[{key:"main",value:function(e,t){var n=this;return new Promise(function(r,s){n[e](t,r,s)})}},{key:"Is the app closed?",value:function(e,t,n){return(0,_IsTheAppClosed2["default"])(e,t,n)}},{key:"Is this app registered?",value:function(e,t,n){return(0,_IsThisAppRegistered2["default"])(e,t,n)}}],[{key:"bindInstanceMethods",value:function(t){var n=this,r=Object.getOwnPropertyNames(this.prototype);e.regex=e._regex,r.forEach(function(r){e.regex.ignoreBind.test(r)||(n.prototype[r]=t[r].bind(t))})}},{key:"_regex",get:function(){var e={ignoreBind:/^(?:bindInstanceMethods|_\w+)$/};return e}}]),e}(),question=new Question;exports["default"]=question.main;

},{"./IsTheAppClosed":16,"./IsThisAppRegistered":17}],19:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Regex=function(){function e(){_classCallCheck(this,e),this.dot=this._dot}return _createClass(e,[{key:"_dot",get:function(){var e=/\./;return e}}]),e}();exports["default"]=Regex;

},{}],20:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Register=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(){vamtiger._socket.emit("register")}}]),e}(),register=new Register;exports["default"]=register.main;

},{}],21:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),SetSocket=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(e){vamtiger._socket||(vamtiger._socket=io.connect(vamtiger._socketUrl),vamtiger._socket.on("connect",vamtiger.handle.socketConnection),vamtiger._socket.on("disconnect",vamtiger.handle.socketDisconnection),vamtiger._socket.on("registration",vamtiger.handle.socketRegistration),vamtiger._socket.on("stranger",vamtiger.handle.stranger))}}]),e}(),setSocket=new SetSocket;exports["default"]=setSocket.main;

},{}],22:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),SetWindowPort=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"main",value:function(e){vamtiger._windowPort=vamtiger.get.windowPort(e),vamtiger._windowPort.onMessage.addListener(vamtiger.handle.portMessage)}}]),e}(),setWindowPort=new SetWindowPort;exports["default"]=setWindowPort.main;

},{}],23:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_SetWindowPort=require("./SetWindowPort"),_SetWindowPort2=_interopRequireDefault(_SetWindowPort),_SetSocket=require("./SetSocket"),_SetSocket2=_interopRequireDefault(_SetSocket),Setter=function(){function e(){_classCallCheck(this,e),this.windowPort=this._windowPort}return _createClass(e,[{key:"_windowPort",get:function(){return _SetWindowPort2["default"]}},{key:"socket",get:function(){return _SetSocket2["default"]}}]),e}();exports["default"]=Setter;

},{"./SetSocket":21,"./SetWindowPort":22}],24:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_Handle=require("./Handle"),_Handle2=_interopRequireDefault(_Handle),_Get=require("./Get"),_Get2=_interopRequireDefault(_Get),_Set=require("./Set"),_Set2=_interopRequireDefault(_Set),_Regex=require("./Regex"),_Regex2=_interopRequireDefault(_Regex),_Question=require("./Question"),_Question2=_interopRequireDefault(_Question),_Launch=require("./Launch"),_Launch2=_interopRequireDefault(_Launch),_Focus=require("./Focus"),_Focus2=_interopRequireDefault(_Focus),_Maximize=require("./Maximize"),_Maximize2=_interopRequireDefault(_Maximize),_Register=require("./Register"),_Register2=_interopRequireDefault(_Register),_Chat=require("./Chat"),_Chat2=_interopRequireDefault(_Chat),VamtigerChatRoomBackground=function(){function e(t){_classCallCheck(this,e),this.handle=this._handle,this.get=this._get,this.set=this._set,this.regex=this._regex,this._windowPort=null,this.__socketUrl=null,this.__socket=null,this._socketUrl=t,chrome.runtime.onInstalled.addListener(this.handle.install),chrome.runtime.onConnect.addListener(this.handle.portConnection),chrome.app.runtime.onLaunched.addListener(this.handle.launch)}return _createClass(e,[{key:"ignore",value:function(){}},{key:"_handle",get:function(){return new _Handle2["default"]}},{key:"_get",get:function(){return new _Get2["default"]}},{key:"_set",get:function(){return new _Set2["default"]}},{key:"_regex",get:function(){return new _Regex2["default"]}},{key:"_socketUrl",set:function(e){this.__socketUrl=e},get:function(){return this.__socketUrl}},{key:"_socket",set:function(e){this.__socket=this.__socket?this.__socket:e},get:function(){return this.__socket}},{key:"question",get:function(){return _Question2["default"]}},{key:"launch",get:function(){return _Launch2["default"]}},{key:"focus",get:function(){return _Focus2["default"]}},{key:"maximize",get:function(){return _Maximize2["default"]}},{key:"register",get:function(){return _Register2["default"]}},{key:"chat",get:function(){return _Chat2["default"]}}]),e}();exports["default"]=VamtigerChatRoomBackground;

},{"./Chat":1,"./Focus":2,"./Get":4,"./Handle":13,"./Launch":14,"./Maximize":15,"./Question":18,"./Regex":19,"./Register":20,"./Set":23}],25:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var _VamtigerChatRoomBackground=require("./VamtigerChatRoomBackground"),_VamtigerChatRoomBackground2=_interopRequireDefault(_VamtigerChatRoomBackground);window.vamtiger=new _VamtigerChatRoomBackground2["default"]("http://192.168.1.88:8888/");

},{"./VamtigerChatRoomBackground":24}]},{},[25])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvdmFtdGlnZXIvRG9jdW1lbnRzL1Byb2dyYW1taW5nL1N0dWRlbnQvYW5vbnktY2hhdC11aS9BcHBsaWNhdGlvbi9CYWNrZ3JvdW5kL0pzL1NvdXJjZS9WYW10aWdlckNoYXRSb29tQmFja2dyb3VuZC9DaGF0L2luZGV4LmpzIiwiL1VzZXJzL3ZhbXRpZ2VyL0RvY3VtZW50cy9Qcm9ncmFtbWluZy9TdHVkZW50L2Fub255LWNoYXQtdWkvQXBwbGljYXRpb24vQmFja2dyb3VuZC9Kcy9Tb3VyY2UvVmFtdGlnZXJDaGF0Um9vbUJhY2tncm91bmQvRm9jdXMvaW5kZXguanMiLCIvVXNlcnMvdmFtdGlnZXIvRG9jdW1lbnRzL1Byb2dyYW1taW5nL1N0dWRlbnQvYW5vbnktY2hhdC11aS9BcHBsaWNhdGlvbi9CYWNrZ3JvdW5kL0pzL1NvdXJjZS9WYW10aWdlckNoYXRSb29tQmFja2dyb3VuZC9HZXQvR2V0V2luZG93UG9ydC9pbmRleC5qcyIsIi9Vc2Vycy92YW10aWdlci9Eb2N1bWVudHMvUHJvZ3JhbW1pbmcvU3R1ZGVudC9hbm9ueS1jaGF0LXVpL0FwcGxpY2F0aW9uL0JhY2tncm91bmQvSnMvU291cmNlL1ZhbXRpZ2VyQ2hhdFJvb21CYWNrZ3JvdW5kL0dldC9pbmRleC5qcyIsIi9Vc2Vycy92YW10aWdlci9Eb2N1bWVudHMvUHJvZ3JhbW1pbmcvU3R1ZGVudC9hbm9ueS1jaGF0LXVpL0FwcGxpY2F0aW9uL0JhY2tncm91bmQvSnMvU291cmNlL1ZhbXRpZ2VyQ2hhdFJvb21CYWNrZ3JvdW5kL0hhbmRsZS9IYW5kbGVJbnN0YWxsL2luZGV4LmpzIiwiL1VzZXJzL3ZhbXRpZ2VyL0RvY3VtZW50cy9Qcm9ncmFtbWluZy9TdHVkZW50L2Fub255LWNoYXQtdWkvQXBwbGljYXRpb24vQmFja2dyb3VuZC9Kcy9Tb3VyY2UvVmFtdGlnZXJDaGF0Um9vbUJhY2tncm91bmQvSGFuZGxlL0hhbmRsZUxhdW5jaC9pbmRleC5qcyIsIi9Vc2Vycy92YW10aWdlci9Eb2N1bWVudHMvUHJvZ3JhbW1pbmcvU3R1ZGVudC9hbm9ueS1jaGF0LXVpL0FwcGxpY2F0aW9uL0JhY2tncm91bmQvSnMvU291cmNlL1ZhbXRpZ2VyQ2hhdFJvb21CYWNrZ3JvdW5kL0hhbmRsZS9IYW5kbGVQb3J0Q29ubmVjdGlvbi9pbmRleC5qcyIsIi9Vc2Vycy92YW10aWdlci9Eb2N1bWVudHMvUHJvZ3JhbW1pbmcvU3R1ZGVudC9hbm9ueS1jaGF0LXVpL0FwcGxpY2F0aW9uL0JhY2tncm91bmQvSnMvU291cmNlL1ZhbXRpZ2VyQ2hhdFJvb21CYWNrZ3JvdW5kL0hhbmRsZS9IYW5kbGVQb3J0TWVzc2FnZS9pbmRleC5qcyIsIi9Vc2Vycy92YW10aWdlci9Eb2N1bWVudHMvUHJvZ3JhbW1pbmcvU3R1ZGVudC9hbm9ueS1jaGF0LXVpL0FwcGxpY2F0aW9uL0JhY2tncm91bmQvSnMvU291cmNlL1ZhbXRpZ2VyQ2hhdFJvb21CYWNrZ3JvdW5kL0hhbmRsZS9IYW5kbGVTb2NrZXRDb25uZWN0aW9uL2luZGV4LmpzIiwiL1VzZXJzL3ZhbXRpZ2VyL0RvY3VtZW50cy9Qcm9ncmFtbWluZy9TdHVkZW50L2Fub255LWNoYXQtdWkvQXBwbGljYXRpb24vQmFja2dyb3VuZC9Kcy9Tb3VyY2UvVmFtdGlnZXJDaGF0Um9vbUJhY2tncm91bmQvSGFuZGxlL0hhbmRsZVNvY2tldERpc2Nvbm5lY3Rpb24vaW5kZXguanMiLCIvVXNlcnMvdmFtdGlnZXIvRG9jdW1lbnRzL1Byb2dyYW1taW5nL1N0dWRlbnQvYW5vbnktY2hhdC11aS9BcHBsaWNhdGlvbi9CYWNrZ3JvdW5kL0pzL1NvdXJjZS9WYW10aWdlckNoYXRSb29tQmFja2dyb3VuZC9IYW5kbGUvSGFuZGxlU29ja2V0UmVnaXN0cmF0aW9uL2luZGV4LmpzIiwiL1VzZXJzL3ZhbXRpZ2VyL0RvY3VtZW50cy9Qcm9ncmFtbWluZy9TdHVkZW50L2Fub255LWNoYXQtdWkvQXBwbGljYXRpb24vQmFja2dyb3VuZC9Kcy9Tb3VyY2UvVmFtdGlnZXJDaGF0Um9vbUJhY2tncm91bmQvSGFuZGxlL0hhbmRsZVN0cmFuZ2VyL2luZGV4LmpzIiwiL1VzZXJzL3ZhbXRpZ2VyL0RvY3VtZW50cy9Qcm9ncmFtbWluZy9TdHVkZW50L2Fub255LWNoYXQtdWkvQXBwbGljYXRpb24vQmFja2dyb3VuZC9Kcy9Tb3VyY2UvVmFtdGlnZXJDaGF0Um9vbUJhY2tncm91bmQvSGFuZGxlL2luZGV4LmpzIiwiL1VzZXJzL3ZhbXRpZ2VyL0RvY3VtZW50cy9Qcm9ncmFtbWluZy9TdHVkZW50L2Fub255LWNoYXQtdWkvQXBwbGljYXRpb24vQmFja2dyb3VuZC9Kcy9Tb3VyY2UvVmFtdGlnZXJDaGF0Um9vbUJhY2tncm91bmQvTGF1bmNoL2luZGV4LmpzIiwiL1VzZXJzL3ZhbXRpZ2VyL0RvY3VtZW50cy9Qcm9ncmFtbWluZy9TdHVkZW50L2Fub255LWNoYXQtdWkvQXBwbGljYXRpb24vQmFja2dyb3VuZC9Kcy9Tb3VyY2UvVmFtdGlnZXJDaGF0Um9vbUJhY2tncm91bmQvTWF4aW1pemUvaW5kZXguanMiLCIvVXNlcnMvdmFtdGlnZXIvRG9jdW1lbnRzL1Byb2dyYW1taW5nL1N0dWRlbnQvYW5vbnktY2hhdC11aS9BcHBsaWNhdGlvbi9CYWNrZ3JvdW5kL0pzL1NvdXJjZS9WYW10aWdlckNoYXRSb29tQmFja2dyb3VuZC9RdWVzdGlvbi9Jc1RoZUFwcENsb3NlZC9pbmRleC5qcyIsIi9Vc2Vycy92YW10aWdlci9Eb2N1bWVudHMvUHJvZ3JhbW1pbmcvU3R1ZGVudC9hbm9ueS1jaGF0LXVpL0FwcGxpY2F0aW9uL0JhY2tncm91bmQvSnMvU291cmNlL1ZhbXRpZ2VyQ2hhdFJvb21CYWNrZ3JvdW5kL1F1ZXN0aW9uL0lzVGhpc0FwcFJlZ2lzdGVyZWQvaW5kZXguanMiLCIvVXNlcnMvdmFtdGlnZXIvRG9jdW1lbnRzL1Byb2dyYW1taW5nL1N0dWRlbnQvYW5vbnktY2hhdC11aS9BcHBsaWNhdGlvbi9CYWNrZ3JvdW5kL0pzL1NvdXJjZS9WYW10aWdlckNoYXRSb29tQmFja2dyb3VuZC9RdWVzdGlvbi9pbmRleC5qcyIsIi9Vc2Vycy92YW10aWdlci9Eb2N1bWVudHMvUHJvZ3JhbW1pbmcvU3R1ZGVudC9hbm9ueS1jaGF0LXVpL0FwcGxpY2F0aW9uL0JhY2tncm91bmQvSnMvU291cmNlL1ZhbXRpZ2VyQ2hhdFJvb21CYWNrZ3JvdW5kL1JlZ2V4L2luZGV4LmpzIiwiL1VzZXJzL3ZhbXRpZ2VyL0RvY3VtZW50cy9Qcm9ncmFtbWluZy9TdHVkZW50L2Fub255LWNoYXQtdWkvQXBwbGljYXRpb24vQmFja2dyb3VuZC9Kcy9Tb3VyY2UvVmFtdGlnZXJDaGF0Um9vbUJhY2tncm91bmQvUmVnaXN0ZXIvaW5kZXguanMiLCIvVXNlcnMvdmFtdGlnZXIvRG9jdW1lbnRzL1Byb2dyYW1taW5nL1N0dWRlbnQvYW5vbnktY2hhdC11aS9BcHBsaWNhdGlvbi9CYWNrZ3JvdW5kL0pzL1NvdXJjZS9WYW10aWdlckNoYXRSb29tQmFja2dyb3VuZC9TZXQvU2V0U29ja2V0L2luZGV4LmpzIiwiL1VzZXJzL3ZhbXRpZ2VyL0RvY3VtZW50cy9Qcm9ncmFtbWluZy9TdHVkZW50L2Fub255LWNoYXQtdWkvQXBwbGljYXRpb24vQmFja2dyb3VuZC9Kcy9Tb3VyY2UvVmFtdGlnZXJDaGF0Um9vbUJhY2tncm91bmQvU2V0L1NldFdpbmRvd1BvcnQvaW5kZXguanMiLCIvVXNlcnMvdmFtdGlnZXIvRG9jdW1lbnRzL1Byb2dyYW1taW5nL1N0dWRlbnQvYW5vbnktY2hhdC11aS9BcHBsaWNhdGlvbi9CYWNrZ3JvdW5kL0pzL1NvdXJjZS9WYW10aWdlckNoYXRSb29tQmFja2dyb3VuZC9TZXQvaW5kZXguanMiLCIvVXNlcnMvdmFtdGlnZXIvRG9jdW1lbnRzL1Byb2dyYW1taW5nL1N0dWRlbnQvYW5vbnktY2hhdC11aS9BcHBsaWNhdGlvbi9CYWNrZ3JvdW5kL0pzL1NvdXJjZS9WYW10aWdlckNoYXRSb29tQmFja2dyb3VuZC9pbmRleC5qcyIsIi9Vc2Vycy92YW10aWdlci9Eb2N1bWVudHMvUHJvZ3JhbW1pbmcvU3R1ZGVudC9hbm9ueS1jaGF0LXVpL0FwcGxpY2F0aW9uL0JhY2tncm91bmQvSnMvU291cmNlL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29iQ0FNLHlHQUVFLE9BQU8sUUFBUSxNQUFNLElBQUksUUFBUyxTQUFDLEdBQy9CLFNBQVMsUUFBUSxLQUFLLE9BQVEsRUFBTyxrQkFLN0MsS0FBTyxHQUFJLHlCQUVBLEtBQUs7OztvYkNWZCwwR0FFRSxPQUFPLElBQUksT0FBTyxTQUFTLEdBQUcsaUJBSWxDLE1BQVEsR0FBSSwwQkFFRCxNQUFNOzs7b2JDUmYsZ0hBQ0csR0FDRCxHQUFJLEdBQWMsU0FBUyxZQUFxQixTQUFTLFlBQWhCLENBRXpDLE9BQU8sWUFJWCxjQUFnQixHQUFJLGtDQUVULGNBQWM7Ozs4ZkNWN0IsZUFBQSxRQUFBLDBFQUVNLDJHQUVFLEdBQUksR0FBWSxPQUFPLElBQUksT0FBTyxTQUFTLE9BQ3ZDLE9BQU8sSUFBSSxPQUFPLFNBQVMsR0FBSyxJQUVwQyxPQUFPLHNDQUlQLE1BQUEsaUJBQUEsdUNBSU87OztvYkNmVCx5QkFDRixRQUFBLEtBQWMsZ0JBQUEsS0FBQSxHQUNWLEVBQWMsb0JBQW9CLHdEQUdqQyxHQUNELEdBQUksSUFDQSxRQUFTLEtBQUssYUFHbEIsR0FBdUIsRUFBTSxRQUN6QixFQUF1QixFQUFNLFVBQVksU0FBUyxnREFJdEQsU0FBUyx1REFHYyxHQUFVLEdBQUEsR0FBQSxLQUM3QixFQUFnQixPQUFPLG9CQUFvQixLQUFLLFVBRXBELEdBQWMsTUFBUSxFQUFjLE9BRXBDLEVBQWMsUUFBUSxTQUFDLEdBQ2QsRUFBYyxNQUFNLFdBQVcsS0FBSyxLQUNyQyxFQUFLLFVBQVUsR0FDWCxFQUFTLEdBQWEsS0FBSyxxQ0FLdkMsR0FBSSxJQUNBLFdBQVksaUNBR2hCLE9BQU8sWUFJWCxjQUFnQixHQUFJLGtDQUVULGNBQWM7OztvYkN6Q3ZCLHdCQUNGLFFBQUEsS0FBYyxnQkFBQSxLQUFBLEdBQ1Ys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QUNBLE9BQUEsUUFBQSxrREFDQSxVQUFBLFFBQUEsMkRBQ0EsUUFBQSxRQUFBLHFEQUNBLE9BQUEsUUFBQSxrREFDQSxVQUFBLFFBQUEsMkRBQ0EsVUFBQSxRQUFBLDJEQUNBLE1BQUEsUUFBQSwrQ0FFTSxzQ0FDRixRQUFBLEdBQVksR0FBVyxnQkFBQSxLQUFBLEdBQ25CLEtBQUssT0FBUyxLQUFLLFFBQ25CLEtBQUssSUFBTSxLQUFLLEtBQ2hCLEtBQUssSUFBTSxLQUFLLEtBQ2hCLEtBQUssTUFBUSxLQUFLLE9BRWxCLEtBQUssWUFBYyxLQUNuQixLQUFLLFlBQWMsS0FDbkIsS0FBSyxTQUFXLEtBRWhCLEtBQUssV0FBYSxFQUVsQixPQUFPLFFBQVEsWUFBWSxZQUFZLEtBQUssT0FBTyxTQUNuRCxPQUFPLFFBQVEsVUFBVSxZQUFZLEtBQUssT0FBTyxnQkFDakQsT0FBTyxJQUFJLFFBQVEsV0FBVyxZQUFZLEtBQUssT0FBTywrRkFNdEQsTUFBTyxJQUFBLFVBQUEsd0NBSVAsTUFBTyxJQUFBLE9BQUEsd0NBSVAsTUFBTyxJQUFBLE9BQUEsMENBSVAsTUFBTyxJQUFBLFNBQUEsNENBR0ksR0FDWCxLQUFLLFlBQWMsa0JBSW5CLE1BQU8sTUFBSywwQ0FHSixHQUNSLEtBQUssU0FBWSxLQUFLLFNBQW9CLEtBQUssU0FBZCxrQkFJakMsTUFBTyxNQUFLLDBDQUlaLE1BQUEsWUFBQSwwQ0FJQSxNQUFBLFVBQUEseUNBSUEsTUFBQSxTQUFBLDRDQUlBLE1BQUEsWUFBQSw0Q0FJQSxNQUFBLFlBQUEsd0NBSUEsTUFBQSxRQUFBLHVDQUlPOzs7dUZDeEZmLEdBQUEsNkJBQUEsUUFBQSxnSEFFQSxRQUFPLFNBQVcsR0FBQSw4QkFBQSxXQUFhIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNsYXNzIENoYXQge1xuICAgIG1haW4oKSB7XG4gICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChcImFwcElkXCIsIChyZWNvcmQpID0+IHtcbiAgICAgICAgICAgIHZhbXRpZ2VyLl9zb2NrZXQuZW1pdChcImNoYXRcIiwgcmVjb3JkLmFwcElkKTtcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbnZhciBjaGF0ID0gbmV3IENoYXQoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2hhdC5tYWluO1xuIiwiY2xhc3MgRm9jdXMge1xuICAgIG1haW4oKSB7XG4gICAgICAgIGNocm9tZS5hcHAud2luZG93LmdldEFsbCgpWzBdLmZvY3VzKCk7XG4gICAgfVxufVxuXG52YXIgZm9jdXMgPSBuZXcgRm9jdXMoKTtcblxuZXhwb3J0IGRlZmF1bHQgZm9jdXMubWFpbjtcbiIsImNsYXNzIEdldFdpbmRvd1BvcnQge1xuICAgIG1haW4ocG9ydCkge1xuICAgICAgICB2YXIgd2luZG93UG9ydCA9ICF2YW10aWdlci5fd2luZG93UG9ydCA/IHBvcnQgOiB2YW10aWdlci5fd2luZG93UG9ydDtcblxuICAgICAgICByZXR1cm4gd2luZG93UG9ydDtcbiAgICB9XG59XG5cbnZhciBnZXRXaW5kb3dQb3J0ID0gbmV3IEdldFdpbmRvd1BvcnQoKTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0V2luZG93UG9ydC5tYWluO1xuIiwiaW1wb3J0IGdldFdpbmRvd1BvcnQgZnJvbSBcIi4vR2V0V2luZG93UG9ydFwiO1xuXG5jbGFzcyBHZXQge1xuICAgIGdldCBhcHBXaW5kb3coKSB7XG4gICAgICAgIHZhciBhcHBXaW5kb3cgPSBjaHJvbWUuYXBwLndpbmRvdy5nZXRBbGwoKS5sZW5ndGggP1xuICAgICAgICAgICAgY2hyb21lLmFwcC53aW5kb3cuZ2V0QWxsKClbMF0gOiBudWxsO1xuXG4gICAgICAgIHJldHVybiBhcHBXaW5kb3c7XG4gICAgfVxuXG4gICAgZ2V0IHdpbmRvd1BvcnQoKSB7XG4gICAgICAgIHJldHVybiBnZXRXaW5kb3dQb3J0O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2V0O1xuIiwiY2xhc3MgSGFuZGxlSW5zdGFsbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIEhhbmRsZUluc3RhbGwuYmluZEluc3RhbmNlTWV0aG9kcyh0aGlzKTtcbiAgICB9XG5cbiAgICBtYWluKGV2ZW50KSB7XG4gICAgICAgIHZhciByZXNwb25kVG9JbnN0YWxsUmVhc29uID0ge1xuICAgICAgICAgICAgaW5zdGFsbDogdGhpcy5maXJzdEluc3RhbGxcbiAgICAgICAgfTtcblxuICAgICAgICByZXNwb25kVG9JbnN0YWxsUmVhc29uW2V2ZW50LnJlYXNvbl0gP1xuICAgICAgICAgICAgcmVzcG9uZFRvSW5zdGFsbFJlYXNvbltldmVudC5yZWFzb25dKCkgOiB2YW10aWdlci5pZ25vcmUoKTtcbiAgICB9XG5cbiAgICBmaXJzdEluc3RhbGwoKSB7XG4gICAgICAgIHZhbXRpZ2VyLmxhdW5jaCgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBiaW5kSW5zdGFuY2VNZXRob2RzKGluc3RhbmNlKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5wcm90b3R5cGUpO1xuXG4gICAgICAgIEhhbmRsZUluc3RhbGwucmVnZXggPSBIYW5kbGVJbnN0YWxsLl9yZWdleDtcblxuICAgICAgICBwcm9wZXJ0eU5hbWVzLmZvckVhY2goKHByb3BlcnlOYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAoIUhhbmRsZUluc3RhbGwucmVnZXguaWdub3JlQmluZC50ZXN0KHByb3BlcnlOYW1lKSlcbiAgICAgICAgICAgICAgICB0aGlzLnByb3RvdHlwZVtwcm9wZXJ5TmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZVtwcm9wZXJ5TmFtZV0uYmluZChpbnN0YW5jZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgX3JlZ2V4KCkge1xuICAgICAgICB2YXIgcmVnZXggPSB7XG4gICAgICAgICAgICBpZ25vcmVCaW5kOiAvXig/OmJpbmRJbnN0YW5jZU1ldGhvZHN8X1xcdyspJC9cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcmVnZXg7XG4gICAgfVxufVxuXG52YXIgaGFuZGxlSW5zdGFsbCA9IG5ldyBIYW5kbGVJbnN0YWxsKClcblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlSW5zdGFsbC5tYWluO1xuIiwiY2xhc3MgSGFuZGxlTGF1bmNoIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgSGFuZGxlTGF1bmNoLmJpbmRJbnN0YW5jZU1ldGhvZHModGhpcyk7XG4gICAgfVxuXG4gICAgaWdub3JlICgpIHt9XG5cbiAgICBtYWluKGV2ZW50KSB7XG4gICAgICAgIHZhbXRpZ2VyLnF1ZXN0aW9uKFwiSXMgdGhlIGFwcCBjbG9zZWQ/XCIpXG4gICAgICAgICAgICAudGhlbih2YW10aWdlci5sYXVuY2gpXG4gICAgICAgICAgICAuY2F0Y2godmFtdGlnZXIuZm9jdXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBiaW5kSW5zdGFuY2VNZXRob2RzKGluc3RhbmNlKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5wcm90b3R5cGUpO1xuXG4gICAgICAgIEhhbmRsZUxhdW5jaC5yZWdleCA9IEhhbmRsZUxhdW5jaC5fcmVnZXg7XG5cbiAgICAgICAgcHJvcGVydHlOYW1lcy5mb3JFYWNoKChwcm9wZXJ5TmFtZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFIYW5kbGVMYXVuY2gucmVnZXguaWdub3JlQmluZC50ZXN0KHByb3BlcnlOYW1lKSlcbiAgICAgICAgICAgICAgICB0aGlzLnByb3RvdHlwZVtwcm9wZXJ5TmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZVtwcm9wZXJ5TmFtZV0uYmluZChpbnN0YW5jZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgX3JlZ2V4KCkge1xuICAgICAgICB2YXIgcmVnZXggPSB7XG4gICAgICAgICAgICBpZ25vcmVCaW5kOiAvXig/OmJpbmRJbnN0YW5jZU1ldGhvZHN8X1xcdyspJC9cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcmVnZXg7XG4gICAgfVxufVxuXG52YXIgaGFuZGxlTGF1bmNoID0gbmV3IEhhbmRsZUxhdW5jaCgpO1xuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVMYXVuY2gubWFpbjtcbiIsImNsYXNzIFBvcnRDb25uZWN0aW9uIHtcbiAgICBtYWluKHBvcnQpIHtcbiAgICAgICAgdmFtdGlnZXIuc2V0LndpbmRvd1BvcnQocG9ydCk7XG4gICAgfVxufVxuXG52YXIgcG9ydENvbm5lY3Rpb24gPSBuZXcgUG9ydENvbm5lY3Rpb24oKTtcblxuZXhwb3J0IGRlZmF1bHQgcG9ydENvbm5lY3Rpb24ubWFpbjtcbiIsImNsYXNzIEhhbmRsZVBvcnRNZXNzYWdlIHtcbiAgICBtYWluKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VBY3Rpb24gPSBtZXNzYWdlLmFjdGlvbi5zcGxpdCh2YW10aWdlci5yZWdleC5kb3QpLnJlZHVjZShcbiAgICAgICAgICAgIChyZWN1cnNpdmVBY3Rpb24sIGFjdGlvbikgPT4gcmVjdXJzaXZlQWN0aW9uW2FjdGlvbl0sIHZhbXRpZ2VyKTtcblxuICAgICAgICBtZXNzYWdlQWN0aW9uKG1lc3NhZ2UpO1xuICAgIH1cbn1cblxudmFyIGhhbmRsZVBvcnRNZXNzYWdlID0gbmV3IEhhbmRsZVBvcnRNZXNzYWdlKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZVBvcnRNZXNzYWdlLm1haW47XG4iLCJjbGFzcyBIYW5kbGVTb2NrZXRDb25uZWN0aW9uIHtcbiAgICBtYWluKGV2ZW50KSB7XG4gICAgICAgIHZhbXRpZ2VyLnF1ZXN0aW9uKFwiSXMgdGhpcyBhcHAgcmVnaXN0ZXJlZD9cIilcbiAgICAgICAgICAgIC50aGVuKHZhbXRpZ2VyLmNoYXQpXG4gICAgICAgICAgICAuY2F0Y2godmFtdGlnZXIucmVnaXN0ZXIpO1xuICAgIH1cbn1cblxudmFyIGhhbmRsZVNvY2tldENvbm5lY3Rpb24gPSBuZXcgSGFuZGxlU29ja2V0Q29ubmVjdGlvbigpO1xuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVTb2NrZXRDb25uZWN0aW9uLm1haW47XG4iLCJjbGFzcyBIYW5kbGVTb2NrZXREaXNjb25uZWN0aW9uIHtcbiAgICBtYWluKGV2ZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiPj4gRGlzY29ubmVjdGVkIVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAgIH1cbn1cblxudmFyIGhhbmRsZVNvY2tldERpc2Nvbm5lY3Rpb24gPSBuZXcgSGFuZGxlU29ja2V0RGlzY29ubmVjdGlvbigpO1xuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVTb2NrZXREaXNjb25uZWN0aW9uLm1haW47XG4iLCJjbGFzcyBIYW5kbGVTb2NrZXRSZWdpc3RyYXRpb24ge1xuICAgIG1haW4oYXBwSWQpIHtcbiAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHthcHBJZH0sIHZhbXRpZ2VyLmNoYXQpO1xuICAgIH1cbn1cblxudmFyIGhhbmRsZVNvY2tldFJlZ2lzdHJhdGlvbiA9IG5ldyBIYW5kbGVTb2NrZXRSZWdpc3RyYXRpb24oKTtcblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlU29ja2V0UmVnaXN0cmF0aW9uLm1haW47XG4iLCJjbGFzcyBIYW5kbGVTdHJhbmdlciB7XG4gICAgbWFpbihkYXRhKSB7XG4gICAgICAgIHZhbXRpZ2VyLl93aW5kb3dQb3J0LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGFjdGlvbjogXCJ1cGRhdGUuc3RyYW5nZXJcIixcbiAgICAgICAgICAgIGRhdGFcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG52YXIgaGFuZGxlU3RyYW5nZXIgPSBuZXcgSGFuZGxlU3RyYW5nZXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlU3RyYW5nZXIubWFpbjtcbiIsImltcG9ydCBoYW5kbGVJbnN0YWxsIGZyb20gXCIuL0hhbmRsZUluc3RhbGxcIjtcbmltcG9ydCBoYW5kbGVMYXVuY2ggZnJvbSBcIi4vSGFuZGxlTGF1bmNoXCI7XG5pbXBvcnQgaGFuZGxlUG9ydENvbm5lY3Rpb24gZnJvbSBcIi4vSGFuZGxlUG9ydENvbm5lY3Rpb25cIjtcbmltcG9ydCBoYW5kbGVQb3J0TWVzc2FnZSBmcm9tIFwiLi9IYW5kbGVQb3J0TWVzc2FnZVwiO1xuaW1wb3J0IGhhbmRsZVNvY2tldENvbm5lY3Rpb24gZnJvbSBcIi4vSGFuZGxlU29ja2V0Q29ubmVjdGlvblwiO1xuaW1wb3J0IGhhbmRsZVNvY2tldERpc2Nvbm5lY3Rpb24gZnJvbSBcIi4vSGFuZGxlU29ja2V0RGlzY29ubmVjdGlvblwiO1xuaW1wb3J0IGhhbmRsZVNvY2tldFJlZ2lzdHJhdGlvbiBmcm9tIFwiLi9IYW5kbGVTb2NrZXRSZWdpc3RyYXRpb25cIjtcbmltcG9ydCBoYW5kbGVTdHJhbmdlciBmcm9tIFwiLi9IYW5kbGVTdHJhbmdlclwiO1xuXG5jbGFzcyBIYW5kbGUge1xuICAgIGdldCBpbnN0YWxsKCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlSW5zdGFsbDtcbiAgICB9XG5cbiAgICBnZXQgbGF1bmNoKCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlTGF1bmNoO1xuICAgIH1cblxuICAgIGdldCBwb3J0Q29ubmVjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVBvcnRDb25uZWN0aW9uO1xuICAgIH1cblxuICAgIGdldCBwb3J0TWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVBvcnRNZXNzYWdlO1xuICAgIH1cblxuICAgIGdldCBzb2NrZXRDb25uZWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU29ja2V0Q29ubmVjdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgc29ja2V0RGlzY29ubmVjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVNvY2tldERpc2Nvbm5lY3Rpb247XG4gICAgfVxuXG4gICAgZ2V0IHNvY2tldFJlZ2lzdHJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVNvY2tldFJlZ2lzdHJhdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgc3RyYW5nZXIoKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJhbmdlcjtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhhbmRsZVxuIiwiY2xhc3MgTGF1bmNoIHtcbiAgICBtYWluKCkge1xuICAgICAgICAhdmFtdGlnZXIuZ2V0LmFwcFdpbmRvdyA/XG4gICAgICAgICAgICBjaHJvbWUuYXBwLndpbmRvdy5jcmVhdGUoXCJBcHBsaWNhdGlvbi9XaW5kb3cvaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgdmFtdGlnZXIubWF4aW1pemUpXG4gICAgICAgICAgICA6XG4gICAgICAgICAgICB2YW10aWdlci5mb2N1cygpO1xuICAgIH1cbn1cblxudmFyIGxhdW5jaCA9IG5ldyBMYXVuY2goKTtcblxuZXhwb3J0IGRlZmF1bHQgbGF1bmNoLm1haW47XG4iLCJjbGFzcyBNYXhpbWl6ZSB7XG4gICAgbWFpbigpIHtcbiAgICAgICAgdmFtdGlnZXIuZ2V0LmFwcFdpbmRvdyA/IHZhbXRpZ2VyLmdldC5hcHBXaW5kb3cubWF4aW1pemUoKSA6XG4gICAgICAgICAgICB2YW10aWdlci5pZ25vcmUoKTtcbiAgICB9XG59XG5cbnZhciBtYXhpbWl6ZSA9IG5ldyBNYXhpbWl6ZSgpO1xuXG5leHBvcnQgZGVmYXVsdCBtYXhpbWl6ZS5tYWluO1xuIiwiY2xhc3MgQW5zd2VyIHtcbiAgICBzdGF0aWMgbWFpbihkYXRhLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIGFuc3dlciA9IHJlc29sdmU7XG5cbiAgICAgICAgaWYgKHZhbXRpZ2VyLmdldC5hcHBXaW5kb3cpXG4gICAgICAgICAgICBhbnN3ZXIgPSByZWplY3Q7XG5cbiAgICAgICAgYW5zd2VyKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBbnN3ZXIubWFpbjtcbiIsImNsYXNzIEFuc3dlciB7XG4gICAgc3RhdGljIG1haW4oZGF0YSwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBhbnN3ZXIgPSByZWplY3Q7XG5cbiAgICAgICAgaWYgKHZhbXRpZ2VyLmdldC5hcHBXaW5kb3cpXG4gICAgICAgICAgICBhbnN3ZXIgPSByZWplY3Q7XG5cbiAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KFwiYXBwSWRcIiwgKHJlY29yZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlY29yZC5hcHBJZCkgYW5zd2VyID0gcmVzb2x2ZTtcblxuICAgICAgICAgICAgYW5zd2VyKHJlY29yZC5hcHBJZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQW5zd2VyLm1haW47XG4iLCJpbXBvcnQgaXNUaGVBcHBDbG9zZWQgZnJvbSBcIi4vSXNUaGVBcHBDbG9zZWRcIjtcbmltcG9ydCBpc1RoaXNBcHBSZWdpc3RlcmVkIGZyb20gXCIuL0lzVGhpc0FwcFJlZ2lzdGVyZWRcIjtcblxuY2xhc3MgUXVlc3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBRdWVzdGlvbi5iaW5kSW5zdGFuY2VNZXRob2RzKHRoaXMpO1xuICAgIH1cblxuICAgIG1haW4ocXVlc3Rpb24sIGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXNbcXVlc3Rpb25dKGRhdGEsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFwiSXMgdGhlIGFwcCBjbG9zZWQ/XCIoZGF0YSwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJldHVybiBpc1RoZUFwcENsb3NlZChkYXRhLCByZXNvbHZlLCByZWplY3QpO1xuICAgIH1cblxuICAgIFwiSXMgdGhpcyBhcHAgcmVnaXN0ZXJlZD9cIihkYXRhLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcmV0dXJuIGlzVGhpc0FwcFJlZ2lzdGVyZWQoZGF0YSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYmluZEluc3RhbmNlTWV0aG9kcyhpbnN0YW5jZSkge1xuICAgICAgICB2YXIgcHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMucHJvdG90eXBlKTtcblxuICAgICAgICBRdWVzdGlvbi5yZWdleCA9IFF1ZXN0aW9uLl9yZWdleDtcblxuICAgICAgICBwcm9wZXJ0eU5hbWVzLmZvckVhY2goKHByb3BlcnlOYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAoIVF1ZXN0aW9uLnJlZ2V4Lmlnbm9yZUJpbmQudGVzdChwcm9wZXJ5TmFtZSkpXG4gICAgICAgICAgICAgICAgdGhpcy5wcm90b3R5cGVbcHJvcGVyeU5hbWVdID1cbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VbcHJvcGVyeU5hbWVdLmJpbmQoaW5zdGFuY2UpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IF9yZWdleCgpIHtcbiAgICAgICAgdmFyIHJlZ2V4ID0ge1xuICAgICAgICAgICAgaWdub3JlQmluZDogL14oPzpiaW5kSW5zdGFuY2VNZXRob2RzfF9cXHcrKSQvXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHJlZ2V4O1xuICAgIH1cbn1cblxudmFyIHF1ZXN0aW9uID0gbmV3IFF1ZXN0aW9uKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHF1ZXN0aW9uLm1haW47XG4iLCJjbGFzcyBSZWdleCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZG90ID0gdGhpcy5fZG90O1xuICAgIH1cblxuICAgIGdldCBfZG90KCkge1xuICAgICAgICB2YXIgZG90ID0gL1xcLi87XG5cbiAgICAgICAgcmV0dXJuIGRvdDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZ2V4O1xuIiwiY2xhc3MgUmVnaXN0ZXIge1xuICAgIG1haW4oKSB7XG4gICAgICAgIHZhbXRpZ2VyLl9zb2NrZXQuZW1pdChcInJlZ2lzdGVyXCIpO1xuICAgIH1cbn1cblxudmFyIHJlZ2lzdGVyID0gbmV3IFJlZ2lzdGVyKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHJlZ2lzdGVyLm1haW47XG4iLCJjbGFzcyBTZXRTb2NrZXQge1xuICAgIG1haW4oZGF0YSkge1xuICAgICAgICBpZiAoIXZhbXRpZ2VyLl9zb2NrZXQpIHtcbiAgICAgICAgICAgIHZhbXRpZ2VyLl9zb2NrZXQgPSBpby5jb25uZWN0KHZhbXRpZ2VyLl9zb2NrZXRVcmwpO1xuXG4gICAgICAgICAgICB2YW10aWdlci5fc29ja2V0Lm9uKFwiY29ubmVjdFwiLCB2YW10aWdlci5oYW5kbGUuc29ja2V0Q29ubmVjdGlvbik7XG4gICAgICAgICAgICB2YW10aWdlci5fc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCB2YW10aWdlci5oYW5kbGUuc29ja2V0RGlzY29ubmVjdGlvbik7XG4gICAgICAgICAgICB2YW10aWdlci5fc29ja2V0Lm9uKFwicmVnaXN0cmF0aW9uXCIsIHZhbXRpZ2VyLmhhbmRsZS5zb2NrZXRSZWdpc3RyYXRpb24pO1xuICAgICAgICAgICAgdmFtdGlnZXIuX3NvY2tldC5vbihcInN0cmFuZ2VyXCIsIHZhbXRpZ2VyLmhhbmRsZS5zdHJhbmdlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciBzZXRTb2NrZXQgPSBuZXcgU2V0U29ja2V0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IHNldFNvY2tldC5tYWluO1xuIiwiY2xhc3MgU2V0V2luZG93UG9ydCB7XG4gICAgbWFpbihwb3J0KSB7XG4gICAgICAgIHZhbXRpZ2VyLl93aW5kb3dQb3J0ID0gdmFtdGlnZXIuZ2V0LndpbmRvd1BvcnQocG9ydCk7XG5cbiAgICAgICAgdmFtdGlnZXIuX3dpbmRvd1BvcnQub25NZXNzYWdlLmFkZExpc3RlbmVyKHZhbXRpZ2VyLmhhbmRsZS5wb3J0TWVzc2FnZSk7XG4gICAgfVxufVxuXG52YXIgc2V0V2luZG93UG9ydCA9IG5ldyBTZXRXaW5kb3dQb3J0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IHNldFdpbmRvd1BvcnQubWFpbjtcbiIsImltcG9ydCBzZXRXaW5kb3dQb3J0IGZyb20gXCIuL1NldFdpbmRvd1BvcnRcIjtcbmltcG9ydCBzZXRTb2NrZXQgZnJvbSBcIi4vU2V0U29ja2V0XCI7XG5cbmNsYXNzIFNldHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMud2luZG93UG9ydCA9IHRoaXMuX3dpbmRvd1BvcnQ7XG4gICAgfVxuXG4gICAgZ2V0IF93aW5kb3dQb3J0KCkge1xuICAgICAgICByZXR1cm4gc2V0V2luZG93UG9ydDtcbiAgICB9XG5cbiAgICBnZXQgc29ja2V0KCkge1xuICAgICAgICByZXR1cm4gc2V0U29ja2V0O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2V0dGVyO1xuIiwiaW1wb3J0IEhhbmRsZSBmcm9tIFwiLi9IYW5kbGVcIjtcbmltcG9ydCBHZXQgZnJvbSBcIi4vR2V0XCI7XG5pbXBvcnQgU2V0dGVyIGZyb20gXCIuL1NldFwiO1xuaW1wb3J0IFJlZ2V4IGZyb20gXCIuL1JlZ2V4XCI7XG5pbXBvcnQgcXVlc3Rpb24gZnJvbSBcIi4vUXVlc3Rpb25cIjtcbmltcG9ydCBsYXVuY2ggZnJvbSBcIi4vTGF1bmNoXCI7XG5pbXBvcnQgZm9jdXMgZnJvbSBcIi4vRm9jdXNcIjtcbmltcG9ydCBtYXhpbWl6ZSBmcm9tIFwiLi9NYXhpbWl6ZVwiO1xuaW1wb3J0IHJlZ2lzdGVyIGZyb20gXCIuL1JlZ2lzdGVyXCI7XG5pbXBvcnQgY2hhdCBmcm9tIFwiLi9DaGF0XCI7XG5cbmNsYXNzIFZhbXRpZ2VyQ2hhdFJvb21CYWNrZ3JvdW5kIHtcbiAgICBjb25zdHJ1Y3Rvcihzb2NrZXRVcmwpIHtcbiAgICAgICAgdGhpcy5oYW5kbGUgPSB0aGlzLl9oYW5kbGU7XG4gICAgICAgIHRoaXMuZ2V0ID0gdGhpcy5fZ2V0O1xuICAgICAgICB0aGlzLnNldCA9IHRoaXMuX3NldDtcbiAgICAgICAgdGhpcy5yZWdleCA9IHRoaXMuX3JlZ2V4O1xuXG4gICAgICAgIHRoaXMuX3dpbmRvd1BvcnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9fc29ja2V0VXJsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fX3NvY2tldCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc29ja2V0VXJsID0gc29ja2V0VXJsO1xuXG4gICAgICAgIGNocm9tZS5ydW50aW1lLm9uSW5zdGFsbGVkLmFkZExpc3RlbmVyKHRoaXMuaGFuZGxlLmluc3RhbGwpO1xuICAgICAgICBjaHJvbWUucnVudGltZS5vbkNvbm5lY3QuYWRkTGlzdGVuZXIodGhpcy5oYW5kbGUucG9ydENvbm5lY3Rpb24pO1xuICAgICAgICBjaHJvbWUuYXBwLnJ1bnRpbWUub25MYXVuY2hlZC5hZGRMaXN0ZW5lcih0aGlzLmhhbmRsZS5sYXVuY2gpO1xuICAgIH1cblxuICAgIGlnbm9yZSAoKSB7fVxuXG4gICAgZ2V0IF9oYW5kbGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGFuZGxlKCk7XG4gICAgfVxuXG4gICAgZ2V0IF9nZXQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgR2V0KCk7XG4gICAgfVxuXG4gICAgZ2V0IF9zZXQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGVyKCk7XG4gICAgfVxuXG4gICAgZ2V0IF9yZWdleCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdleCgpO1xuICAgIH1cblxuICAgIHNldCBfc29ja2V0VXJsKHVybCkge1xuICAgICAgICB0aGlzLl9fc29ja2V0VXJsID0gdXJsO1xuICAgIH1cblxuICAgIGdldCBfc29ja2V0VXJsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX3NvY2tldFVybDtcbiAgICB9XG5cbiAgICBzZXQgX3NvY2tldChzb2NrZXQpIHtcbiAgICAgICAgdGhpcy5fX3NvY2tldCA9ICF0aGlzLl9fc29ja2V0ID8gc29ja2V0IDogdGhpcy5fX3NvY2tldDtcbiAgICB9XG5cbiAgICBnZXQgX3NvY2tldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19zb2NrZXQ7XG4gICAgfVxuXG4gICAgZ2V0IHF1ZXN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcXVlc3Rpb247XG4gICAgfVxuXG4gICAgZ2V0IGxhdW5jaCgpIHtcbiAgICAgICAgcmV0dXJuIGxhdW5jaDtcbiAgICB9XG5cbiAgICBnZXQgZm9jdXMoKSB7XG4gICAgICAgIHJldHVybiBmb2N1cztcbiAgICB9XG5cbiAgICBnZXQgbWF4aW1pemUoKSB7XG4gICAgICAgIHJldHVybiBtYXhpbWl6ZTtcbiAgICB9XG5cbiAgICBnZXQgcmVnaXN0ZXIoKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RlcjtcbiAgICB9XG5cbiAgICBnZXQgY2hhdCgpIHtcbiAgICAgICAgcmV0dXJuIGNoYXQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWYW10aWdlckNoYXRSb29tQmFja2dyb3VuZDtcbiIsImltcG9ydCBWYW10aWdlciBmcm9tIFwiLi9WYW10aWdlckNoYXRSb29tQmFja2dyb3VuZFwiO1xuXG53aW5kb3cudmFtdGlnZXIgPSBuZXcgVmFtdGlnZXIoXCJodHRwOi8vMTkyLjE2OC4xLjg4Ojg4ODgvXCIpO1xuIl19
